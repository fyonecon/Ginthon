import{a5 as m,a6 as w,a7 as h,a8 as C,o as v,a9 as b,v as d,A as y,aa as A,ab as S,q as M,K as E,J as D,ac as F,ad as T,ae as j,w as q,af as P,ag as R,ah as l,g as B,e as c,a3 as N,h as _,ai as g,aj as O,ak as U,al as k,am as $,an as z,ao as J,ap as K,aq as G,ar as H,as as I,at as L,au as Q}from"./DrjxYvK-.js";import{h as V,m as W,u as X}from"./CuY_0suZ.js";class Y{anchor;#t=new Map;#s=new Map;#e=new Map;#a=new Set;#n=!0;constructor(e,s=!0){this.anchor=e,this.#n=s}#r=()=>{var e=m;if(this.#t.has(e)){var s=this.#t.get(e),n=this.#s.get(s);if(n)w(n),this.#a.delete(s);else{var t=this.#e.get(s);t&&(this.#s.set(s,t.effect),this.#e.delete(s),t.fragment.lastChild.remove(),this.anchor.before(t.fragment),n=t.effect)}for(const[r,i]of this.#t){if(this.#t.delete(r),r===e)break;const o=this.#e.get(i);o&&(h(o.effect),this.#e.delete(i))}for(const[r,i]of this.#s){if(r===s||this.#a.has(r))continue;const o=()=>{if(Array.from(this.#t.values()).includes(r)){var u=document.createDocumentFragment();A(i,u),u.append(v()),this.#e.set(r,{effect:i,fragment:u})}else h(i);this.#a.delete(r),this.#s.delete(r)};this.#n||!n?(this.#a.add(r),C(i,o,!1)):o()}}};#i=e=>{this.#t.delete(e);const s=Array.from(this.#t.values());for(const[n,t]of this.#e)s.includes(n)||(h(t.effect),this.#e.delete(n))};ensure(e,s){var n=m,t=S();if(s&&!this.#s.has(e)&&!this.#e.has(e))if(t){var r=document.createDocumentFragment(),i=v();r.append(i),this.#e.set(e,{effect:b(()=>s(i)),fragment:r})}else this.#s.set(e,b(()=>s(this.anchor)));if(this.#t.set(n,e),t){for(const[o,f]of this.#s)o===e?n.skipped_effects.delete(f):n.skipped_effects.add(f);for(const[o,f]of this.#e)o===e?n.skipped_effects.delete(f.effect):n.skipped_effects.add(f.effect);n.oncommit(this.#r),n.ondiscard(this.#i)}else d&&(this.anchor=y),this.#r()}}function fe(a,e,...s){var n=new Y(a);M(()=>{const t=e()??null;n.ensure(t,t&&(r=>t(r,...s)))},E)}function Z(a){return(e,...s)=>{var n=a(...s),t;if(d)t=y,D();else{var r=n.render().trim(),i=F(r);t=q(i),e.before(t)}const o=n.setup?.(t);T(t,t),typeof o=="function"&&j(o)}}function ee(a,e){if(P(),d){const s=window.__svelte?.h;if(s?.has(a))return s.get(a);R()}return e()}function te(){return g===null&&O(),(g.ac??=new AbortController).signal}function x(a){c===null&&l(),N&&c.l!==null?p(c).m.push(a):B(()=>{const e=_(a);if(typeof e=="function")return e})}function se(a){c===null&&l(),x(()=>()=>_(a))}function ae(a,e,{bubbles:s=!1,cancelable:n=!1}={}){return new CustomEvent(a,{detail:e,bubbles:s,cancelable:n})}function ne(){const a=c;return a===null&&l(),(e,s,n)=>{const t=a.s.$$events?.[e];if(t){const r=U(t)?t.slice():[t],i=ae(e,s,n);for(const o of r)o.call(a.x,i);return!i.defaultPrevented}return!0}}function re(a){c===null&&l(),c.l===null&&k(),p(c).b.push(a)}function ie(a){c===null&&l(),c.l===null&&k(),p(c).a.push(a)}function p(a){var e=a.l;return e.u??={a:[],b:[],m:[]}}const le=Object.freeze(Object.defineProperty({__proto__:null,afterUpdate:ie,beforeUpdate:re,createContext:$,createEventDispatcher:ne,createRawSnippet:Z,flushSync:z,fork:J,getAbortSignal:te,getAllContexts:K,getContext:G,hasContext:H,hydratable:ee,hydrate:V,mount:W,onDestroy:se,onMount:x,setContext:I,settled:L,tick:Q,unmount:X,untrack:_},Symbol.toStringTag,{value:"Module"}));export{Y as B,le as a,x as o,fe as s};
