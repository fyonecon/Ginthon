import{g as R}from"./DngDAwaa.js";import{p as m}from"./D0A1cd72.js";import{M as L,O as H}from"./B7yQehWU.js";function b(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var v={exports:{}},x={exports:{}},y;function D(){return y||(y=1,(function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={rotl:function(e,c){return e<<c|e>>>32-c},rotr:function(e,c){return e<<32-c|e>>>c},endian:function(e){if(e.constructor==Number)return r.rotl(e,8)&16711935|r.rotl(e,24)&4278255360;for(var c=0;c<e.length;c++)e[c]=r.endian(e[c]);return e},randomBytes:function(e){for(var c=[];e>0;e--)c.push(Math.floor(Math.random()*256));return c},bytesToWords:function(e){for(var c=[],s=0,f=0;s<e.length;s++,f+=8)c[f>>>5]|=e[s]<<24-f%32;return c},wordsToBytes:function(e){for(var c=[],s=0;s<e.length*32;s+=8)c.push(e[s>>>5]>>>24-s%32&255);return c},bytesToHex:function(e){for(var c=[],s=0;s<e.length;s++)c.push((e[s]>>>4).toString(16)),c.push((e[s]&15).toString(16));return c.join("")},hexToBytes:function(e){for(var c=[],s=0;s<e.length;s+=2)c.push(parseInt(e.substr(s,2),16));return c},bytesToBase64:function(e){for(var c=[],s=0;s<e.length;s+=3)for(var f=e[s]<<16|e[s+1]<<8|e[s+2],h=0;h<4;h++)s*8+h*6<=e.length*8?c.push(t.charAt(f>>>6*(3-h)&63)):c.push("=");return c.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/ig,"");for(var c=[],s=0,f=0;s<e.length;f=++s%4)f!=0&&c.push((t.indexOf(e.charAt(s-1))&Math.pow(2,-2*f+8)-1)<<f*2|t.indexOf(e.charAt(s))>>>6-f*2);return c}};x.exports=r})()),x.exports}var C,F;function S(){if(F)return C;F=1;var t={utf8:{stringToBytes:function(r){return t.bin.stringToBytes(unescape(encodeURIComponent(r)))},bytesToString:function(r){return decodeURIComponent(escape(t.bin.bytesToString(r)))}},bin:{stringToBytes:function(r){for(var e=[],c=0;c<r.length;c++)e.push(r.charCodeAt(c)&255);return e},bytesToString:function(r){for(var e=[],c=0;c<r.length;c++)e.push(String.fromCharCode(r[c]));return e.join("")}}};return C=t,C}var A,T;function E(){if(T)return A;T=1,A=function(e){return e!=null&&(t(e)||r(e)||!!e._isBuffer)};function t(e){return!!e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function r(e){return typeof e.readFloatLE=="function"&&typeof e.slice=="function"&&t(e.slice(0,0))}return A}var B;function U(){return B||(B=1,(function(){var t=D(),r=S().utf8,e=E(),c=S().bin,s=function(f,h){f.constructor==String?h&&h.encoding==="binary"?f=c.stringToBytes(f):f=r.stringToBytes(f):e(f)?f=Array.prototype.slice.call(f,0):!Array.isArray(f)&&f.constructor!==Uint8Array&&(f=f.toString());for(var u=t.bytesToWords(f),d=f.length*8,i=1732584193,n=-271733879,a=-1732584194,o=271733878,l=0;l<u.length;l++)u[l]=(u[l]<<8|u[l]>>>24)&16711935|(u[l]<<24|u[l]>>>8)&4278255360;u[d>>>5]|=128<<d%32,u[(d+64>>>9<<4)+14]=d;for(var g=s._ff,_=s._gg,p=s._hh,w=s._ii,l=0;l<u.length;l+=16){var I=i,M=n,O=a,q=o;i=g(i,n,a,o,u[l+0],7,-680876936),o=g(o,i,n,a,u[l+1],12,-389564586),a=g(a,o,i,n,u[l+2],17,606105819),n=g(n,a,o,i,u[l+3],22,-1044525330),i=g(i,n,a,o,u[l+4],7,-176418897),o=g(o,i,n,a,u[l+5],12,1200080426),a=g(a,o,i,n,u[l+6],17,-1473231341),n=g(n,a,o,i,u[l+7],22,-45705983),i=g(i,n,a,o,u[l+8],7,1770035416),o=g(o,i,n,a,u[l+9],12,-1958414417),a=g(a,o,i,n,u[l+10],17,-42063),n=g(n,a,o,i,u[l+11],22,-1990404162),i=g(i,n,a,o,u[l+12],7,1804603682),o=g(o,i,n,a,u[l+13],12,-40341101),a=g(a,o,i,n,u[l+14],17,-1502002290),n=g(n,a,o,i,u[l+15],22,1236535329),i=_(i,n,a,o,u[l+1],5,-165796510),o=_(o,i,n,a,u[l+6],9,-1069501632),a=_(a,o,i,n,u[l+11],14,643717713),n=_(n,a,o,i,u[l+0],20,-373897302),i=_(i,n,a,o,u[l+5],5,-701558691),o=_(o,i,n,a,u[l+10],9,38016083),a=_(a,o,i,n,u[l+15],14,-660478335),n=_(n,a,o,i,u[l+4],20,-405537848),i=_(i,n,a,o,u[l+9],5,568446438),o=_(o,i,n,a,u[l+14],9,-1019803690),a=_(a,o,i,n,u[l+3],14,-187363961),n=_(n,a,o,i,u[l+8],20,1163531501),i=_(i,n,a,o,u[l+13],5,-1444681467),o=_(o,i,n,a,u[l+2],9,-51403784),a=_(a,o,i,n,u[l+7],14,1735328473),n=_(n,a,o,i,u[l+12],20,-1926607734),i=p(i,n,a,o,u[l+5],4,-378558),o=p(o,i,n,a,u[l+8],11,-2022574463),a=p(a,o,i,n,u[l+11],16,1839030562),n=p(n,a,o,i,u[l+14],23,-35309556),i=p(i,n,a,o,u[l+1],4,-1530992060),o=p(o,i,n,a,u[l+4],11,1272893353),a=p(a,o,i,n,u[l+7],16,-155497632),n=p(n,a,o,i,u[l+10],23,-1094730640),i=p(i,n,a,o,u[l+13],4,681279174),o=p(o,i,n,a,u[l+0],11,-358537222),a=p(a,o,i,n,u[l+3],16,-722521979),n=p(n,a,o,i,u[l+6],23,76029189),i=p(i,n,a,o,u[l+9],4,-640364487),o=p(o,i,n,a,u[l+12],11,-421815835),a=p(a,o,i,n,u[l+15],16,530742520),n=p(n,a,o,i,u[l+2],23,-995338651),i=w(i,n,a,o,u[l+0],6,-198630844),o=w(o,i,n,a,u[l+7],10,1126891415),a=w(a,o,i,n,u[l+14],15,-1416354905),n=w(n,a,o,i,u[l+5],21,-57434055),i=w(i,n,a,o,u[l+12],6,1700485571),o=w(o,i,n,a,u[l+3],10,-1894986606),a=w(a,o,i,n,u[l+10],15,-1051523),n=w(n,a,o,i,u[l+1],21,-2054922799),i=w(i,n,a,o,u[l+8],6,1873313359),o=w(o,i,n,a,u[l+15],10,-30611744),a=w(a,o,i,n,u[l+6],15,-1560198380),n=w(n,a,o,i,u[l+13],21,1309151649),i=w(i,n,a,o,u[l+4],6,-145523070),o=w(o,i,n,a,u[l+11],10,-1120210379),a=w(a,o,i,n,u[l+2],15,718787259),n=w(n,a,o,i,u[l+9],21,-343485551),i=i+I>>>0,n=n+M>>>0,a=a+O>>>0,o=o+q>>>0}return t.endian([i,n,a,o])};s._ff=function(f,h,u,d,i,n,a){var o=f+(h&u|~h&d)+(i>>>0)+a;return(o<<n|o>>>32-n)+h},s._gg=function(f,h,u,d,i,n,a){var o=f+(h&d|u&~d)+(i>>>0)+a;return(o<<n|o>>>32-n)+h},s._hh=function(f,h,u,d,i,n,a){var o=f+(h^u^d)+(i>>>0)+a;return(o<<n|o>>>32-n)+h},s._ii=function(f,h,u,d,i,n,a){var o=f+(u^(h|~d))+(i>>>0)+a;return(o<<n|o>>>32-n)+h},s._blocksize=16,s._digestsize=16,v.exports=function(f,h){if(f==null)throw new Error("Illegal argument "+f);var u=t.wordsToBytes(s(f,h));return h&&h.asBytes?u:h&&h.asString?c.bytesToString(u):t.bytesToHex(u)}})()),v.exports}var j=U();const k=b(j),z={test:function(t){console.log("test=",t)},console_log:function(...t){},console_error:function(...t){},url_path:function(t){return"."+t},redirect_pathname:function(t){const r=t.url_pathname,e=t.url_params;(function(){R(r+e,{replaceState:!0}).then(s=>{})})()},get_href:function(){return m.url.href},get_route:function(){let t=this;{let r=m.route;return typeof r=="string"?r:typeof r=="object"?r.id:t.json_to_string(r)}},get_params:function(){return m.url.search},search_param:function(t){let r=this;return r.search_href_param(r.get_params(),t)},search_href_param:function(t,r){let e=this,c="";t?c=t:c=e.get_href();let s=new RegExp("([?]|&|#)"+r+"=([^&|^#]*)(&|$|#)"),f=c.match(s);return f?decodeURIComponent(f[2]):""},js_rand:function(t,r){return Math.floor(Math.random()*(r-t+1)+t)},set_local_data:function(t,r){return t=this.url_encode(t),localStorage.setItem(t,r),localStorage.getItem(t)},get_local_data:function(t){t=this.url_encode(t);let e=localStorage.getItem(t);return e||""},del_local_data:function(t){return t=this.url_encode(t),localStorage.removeItem(t)},clear_local_data:function(){return localStorage.clear()},set_page_data:function(t,r){return t=this.url_encode(t),H(t,r)},get_page_data:function(t){return t=this.url_encode(t),L(t)},del_page_data:function(t){let r=this;return t=r.url_encode(t),r.set_page_data(t,null)},get_time_s:function(){return Math.floor(new Date().getTime()/1e3)},get_time_ms:function(){return new Date().getTime()},get_time_s_date:function(t,r){let e;r?e=new Date(r*1):e=new Date;let c=e.getSeconds();c<10&&(c="0"+c);let s=e.getMinutes();s<10&&(s="0"+s);let f=e.getHours();f<10&&(f="0"+f);let h=e.getDate();h<10&&(h="0"+h);let u=e.getMonth()+1;u<10&&(u="0"+u);let d=e.getFullYear(),i=["week1","week2","week3","week4","week5","week6","week7"][e.getDay()];return t=t.replaceAll("Y",d),t=t.replaceAll("m",u),t=t.replaceAll("d",h),t=t.replaceAll("H",f),t=t.replaceAll("i",s),t=t.replaceAll("s",c),t=t.replaceAll("W",i),t},get_time_ms_format:function(t,r){return r?r=r*1:r=this.get_time_ms(),this.get_time_s_date(t,r)},format_date:function(t,r){r=r+"";let e=r.slice(0,4),c=r.slice(4,6),s=r.slice(6,8),f=r.slice(8,10),h=r.slice(10,12),u=r.slice(12,14),d=t;return d=d.replaceAll("Y",e),d=d.replaceAll("m",c),d=d.replaceAll("d",s),d=d.replaceAll("H",f),d=d.replaceAll("i",h),d=d.replaceAll("s",u),d},is_weixin:function(){return window.navigator.userAgent.toLowerCase().match(/micromessenger/i)==="micromessenger"},is_qq:function(){let t=window.navigator.userAgent.toLowerCase();return t.indexOf("qq")!==-1&&t.indexOf("qqbrowser")===-1},is_dingding:function(){return window.navigator.userAgent.toLowerCase().indexOf("ding talk")!==-1},is_work_weixin:function(){return window.navigator.userAgent.toLowerCase().indexOf("wxwork")!==-1},is_feishu:function(){return window.navigator.userAgent.toLowerCase().indexOf("lark")!==-1},make_uid:function(t){let r=this,e=r.js_rand(1e10,999999999999),c=window.navigator.userAgent.toLowerCase(),s=r.time_date("YmdHisW"),f=window.location.href.toLowerCase();return[r.md5(t+"@"+c+"@"+s+"@"+f+"@"+window.innerWidth+"@"+e),s]},get_theme_model:function(){return window.matchMedia("(prefers-color-scheme: light)").matches?"light":"dark"},md5:function(t){return t?k(t):""},base64_encode:function(t){try{return btoa(t)}catch{return""}},base64_decode:function(t){try{return atob(t)}catch{return""}},url_encode:function(t){return encodeURIComponent(t)},url_decode:function(t){return decodeURIComponent(t)},text_encode:function(t){return this.string_to_unicode(t)},text_decode:function(t){return this.unicode_to_string(t)},string_to_unicode:function(t){let r="";for(let e=0;e<t.length;e++)r?r+=","+t.charCodeAt(e):r=t.charCodeAt(e);return r},unicode_to_string:function(t){const r=t.split(",");let e="";for(let c=0;c<r.length;c++)e+=String.fromCharCode(r[c]);return e},hex16_to_string:function(t){return decodeURIComponent(t)},string_to_hex16:function(t){let r="";for(let e=0;e<t.length;e++)r?r+="&#x"+t.charCodeAt(e).toString(16)+";":r="&#x"+t.charCodeAt(e).toString(16)+";";return r},string_to_json:function(t){let r,e=t;return typeof e=="string"?r=JSON.parse(e):r=e,r},json_to_string:function(t){let r,e=t;return typeof e=="object"?r=JSON.stringify(e):r=e,r},string_star:function(t,r,e){let c=t.length-r-e,s="";for(let f=0;f<c;f++)s+="*";return t.substring(0,r)+s+t.substring(t.length-e)},get_file_ext:function(t){let r=t.split("/");return r.length?r[r.length-1]:""},is_video:function(t){let r=t.substring(t.lastIndexOf("."));return r=r.toLowerCase(),[".mp4",".mkv",".avi",".flv",".mov",".m4v",".rmvb",".rm",".webm",".asf",".wmv"].includes(r)},is_audio:function(t){let r=t.substring(t.lastIndexOf("."));return r=r.toLowerCase(),[".mp3",".wav",".m3u",".m4a",".flac"].includes(r)},is_img:function(t){let r=t.substring(t.lastIndexOf("."));return r=r.toLowerCase(),[".gif",".png",".jpg",".jpeg",".webp",".ico",".jpg2",".tiff",".tif",".bmp",".svg"].includes(r)},is_mobile_screen:function(){let t=window.screen.width,r=window.screen.height,e=1280,c=280,s=40;return t<c||r<c||Math.abs(t-r)<s?-1:t>e||r>e?0:1},is_mobile_pwa:function(){return window.navigator?.standalone||document.referrer.includes("android-app://")},is_pc_pwa:function(){return["fullscreen","standalone","minimal-ui"].some(r=>window.matchMedia("(display-mode: "+r+")").matches)},html_to_plain_text:function(t){function r(c,s={img:" [üèûÔ∏è] ",audio:" [üéµ] ",video:" [üé¨] "}){return c.replace(/<img[^>]*alt="([^"]*)"[^>]*>/gi,(f,h)=>" [üèûÔ∏è "+h+"] "||s.img).replace(/<audio[^>]*title="([^"]*)"[^>]*>.*?<\/audio>/gi,(f,h)=>" [üéµ "+h+"] "||s.audio).replace(/<video[^>]*title="([^"]*)"[^>]*>.*?<\/video>/gi,(f,h)=>" [üé¨ "+h+"] "||s.video)}t=r(t);let e=document.createElement("div");return e.innerHTML=t,e.innerText||e.textContent}};export{z as f};
