import{g as q}from"./BLJ50hym.js";import{p as m}from"./91VFsH2_.js";import{M as L,O as R}from"./B7yQehWU.js";function k(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var v={exports:{}},x={exports:{}},F;function H(){return F||(F=1,(function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={rotl:function(e,c){return e<<c|e>>>32-c},rotr:function(e,c){return e<<32-c|e>>>c},endian:function(e){if(e.constructor==Number)return r.rotl(e,8)&16711935|r.rotl(e,24)&4278255360;for(var c=0;c<e.length;c++)e[c]=r.endian(e[c]);return e},randomBytes:function(e){for(var c=[];e>0;e--)c.push(Math.floor(Math.random()*256));return c},bytesToWords:function(e){for(var c=[],s=0,f=0;s<e.length;s++,f+=8)c[f>>>5]|=e[s]<<24-f%32;return c},wordsToBytes:function(e){for(var c=[],s=0;s<e.length*32;s+=8)c.push(e[s>>>5]>>>24-s%32&255);return c},bytesToHex:function(e){for(var c=[],s=0;s<e.length;s++)c.push((e[s]>>>4).toString(16)),c.push((e[s]&15).toString(16));return c.join("")},hexToBytes:function(e){for(var c=[],s=0;s<e.length;s+=2)c.push(parseInt(e.substr(s,2),16));return c},bytesToBase64:function(e){for(var c=[],s=0;s<e.length;s+=3)for(var f=e[s]<<16|e[s+1]<<8|e[s+2],h=0;h<4;h++)s*8+h*6<=e.length*8?c.push(t.charAt(f>>>6*(3-h)&63)):c.push("=");return c.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/ig,"");for(var c=[],s=0,f=0;s<e.length;f=++s%4)f!=0&&c.push((t.indexOf(e.charAt(s-1))&Math.pow(2,-2*f+8)-1)<<f*2|t.indexOf(e.charAt(s))>>>6-f*2);return c}};x.exports=r})()),x.exports}var y,S;function T(){if(S)return y;S=1;var t={utf8:{stringToBytes:function(r){return t.bin.stringToBytes(unescape(encodeURIComponent(r)))},bytesToString:function(r){return decodeURIComponent(escape(t.bin.bytesToString(r)))}},bin:{stringToBytes:function(r){for(var e=[],c=0;c<r.length;c++)e.push(r.charCodeAt(c)&255);return e},bytesToString:function(r){for(var e=[],c=0;c<r.length;c++)e.push(String.fromCharCode(r[c]));return e.join("")}}};return y=t,y}var C,B;function D(){if(B)return C;B=1,C=function(e){return e!=null&&(t(e)||r(e)||!!e._isBuffer)};function t(e){return!!e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function r(e){return typeof e.readFloatLE=="function"&&typeof e.slice=="function"&&t(e.slice(0,0))}return C}var I;function E(){return I||(I=1,(function(){var t=H(),r=T().utf8,e=D(),c=T().bin,s=function(f,h){f.constructor==String?h&&h.encoding==="binary"?f=c.stringToBytes(f):f=r.stringToBytes(f):e(f)?f=Array.prototype.slice.call(f,0):!Array.isArray(f)&&f.constructor!==Uint8Array&&(f=f.toString());for(var a=t.bytesToWords(f),_=f.length*8,l=1732584193,n=-271733879,i=-1732584194,o=271733878,u=0;u<a.length;u++)a[u]=(a[u]<<8|a[u]>>>24)&16711935|(a[u]<<24|a[u]>>>8)&4278255360;a[_>>>5]|=128<<_%32,a[(_+64>>>9<<4)+14]=_;for(var d=s._ff,p=s._gg,g=s._hh,w=s._ii,u=0;u<a.length;u+=16){var M=l,O=n,j=i,b=o;l=d(l,n,i,o,a[u+0],7,-680876936),o=d(o,l,n,i,a[u+1],12,-389564586),i=d(i,o,l,n,a[u+2],17,606105819),n=d(n,i,o,l,a[u+3],22,-1044525330),l=d(l,n,i,o,a[u+4],7,-176418897),o=d(o,l,n,i,a[u+5],12,1200080426),i=d(i,o,l,n,a[u+6],17,-1473231341),n=d(n,i,o,l,a[u+7],22,-45705983),l=d(l,n,i,o,a[u+8],7,1770035416),o=d(o,l,n,i,a[u+9],12,-1958414417),i=d(i,o,l,n,a[u+10],17,-42063),n=d(n,i,o,l,a[u+11],22,-1990404162),l=d(l,n,i,o,a[u+12],7,1804603682),o=d(o,l,n,i,a[u+13],12,-40341101),i=d(i,o,l,n,a[u+14],17,-1502002290),n=d(n,i,o,l,a[u+15],22,1236535329),l=p(l,n,i,o,a[u+1],5,-165796510),o=p(o,l,n,i,a[u+6],9,-1069501632),i=p(i,o,l,n,a[u+11],14,643717713),n=p(n,i,o,l,a[u+0],20,-373897302),l=p(l,n,i,o,a[u+5],5,-701558691),o=p(o,l,n,i,a[u+10],9,38016083),i=p(i,o,l,n,a[u+15],14,-660478335),n=p(n,i,o,l,a[u+4],20,-405537848),l=p(l,n,i,o,a[u+9],5,568446438),o=p(o,l,n,i,a[u+14],9,-1019803690),i=p(i,o,l,n,a[u+3],14,-187363961),n=p(n,i,o,l,a[u+8],20,1163531501),l=p(l,n,i,o,a[u+13],5,-1444681467),o=p(o,l,n,i,a[u+2],9,-51403784),i=p(i,o,l,n,a[u+7],14,1735328473),n=p(n,i,o,l,a[u+12],20,-1926607734),l=g(l,n,i,o,a[u+5],4,-378558),o=g(o,l,n,i,a[u+8],11,-2022574463),i=g(i,o,l,n,a[u+11],16,1839030562),n=g(n,i,o,l,a[u+14],23,-35309556),l=g(l,n,i,o,a[u+1],4,-1530992060),o=g(o,l,n,i,a[u+4],11,1272893353),i=g(i,o,l,n,a[u+7],16,-155497632),n=g(n,i,o,l,a[u+10],23,-1094730640),l=g(l,n,i,o,a[u+13],4,681279174),o=g(o,l,n,i,a[u+0],11,-358537222),i=g(i,o,l,n,a[u+3],16,-722521979),n=g(n,i,o,l,a[u+6],23,76029189),l=g(l,n,i,o,a[u+9],4,-640364487),o=g(o,l,n,i,a[u+12],11,-421815835),i=g(i,o,l,n,a[u+15],16,530742520),n=g(n,i,o,l,a[u+2],23,-995338651),l=w(l,n,i,o,a[u+0],6,-198630844),o=w(o,l,n,i,a[u+7],10,1126891415),i=w(i,o,l,n,a[u+14],15,-1416354905),n=w(n,i,o,l,a[u+5],21,-57434055),l=w(l,n,i,o,a[u+12],6,1700485571),o=w(o,l,n,i,a[u+3],10,-1894986606),i=w(i,o,l,n,a[u+10],15,-1051523),n=w(n,i,o,l,a[u+1],21,-2054922799),l=w(l,n,i,o,a[u+8],6,1873313359),o=w(o,l,n,i,a[u+15],10,-30611744),i=w(i,o,l,n,a[u+6],15,-1560198380),n=w(n,i,o,l,a[u+13],21,1309151649),l=w(l,n,i,o,a[u+4],6,-145523070),o=w(o,l,n,i,a[u+11],10,-1120210379),i=w(i,o,l,n,a[u+2],15,718787259),n=w(n,i,o,l,a[u+9],21,-343485551),l=l+M>>>0,n=n+O>>>0,i=i+j>>>0,o=o+b>>>0}return t.endian([l,n,i,o])};s._ff=function(f,h,a,_,l,n,i){var o=f+(h&a|~h&_)+(l>>>0)+i;return(o<<n|o>>>32-n)+h},s._gg=function(f,h,a,_,l,n,i){var o=f+(h&_|a&~_)+(l>>>0)+i;return(o<<n|o>>>32-n)+h},s._hh=function(f,h,a,_,l,n,i){var o=f+(h^a^_)+(l>>>0)+i;return(o<<n|o>>>32-n)+h},s._ii=function(f,h,a,_,l,n,i){var o=f+(a^(h|~_))+(l>>>0)+i;return(o<<n|o>>>32-n)+h},s._blocksize=16,s._digestsize=16,v.exports=function(f,h){if(f==null)throw new Error("Illegal argument "+f);var a=t.wordsToBytes(s(f,h));return h&&h.asBytes?a:h&&h.asString?c.bytesToString(a):t.bytesToHex(a)}})()),v.exports}var U=E();const J=k(U),A={debug:!1,app:{app_class:"ginthon_sv_",app_version:"1.4.0"},sys:{backend:"py"},api:{js_call_py_url:"http://127.0.0.1:9750/"}},Y={test:function(t){console.log("test=",t)},console_log:function(...t){},console_error:function(...t){},url_path:function(t){return"."+t},redirect_pathname:function(t){const r=t.url_pathname,e=t.url_params;(function(){q(r+e,{replaceState:!0}).then(s=>{})})()},get_href:function(){return m.url.href},get_route:function(){let t=this;{let r=m.route;return typeof r=="string"?r:typeof r=="object"?r.id:t.json_to_string(r)}},get_params:function(){return m.url.search},search_param:function(t){let r=this;return r.search_href_param(r.get_params(),t)},search_href_param:function(t,r){let e=this,c="";t?c=t:c=e.get_href();let s=new RegExp("([?]|&|#)"+r+"=([^&|^#]*)(&|$|#)"),f=c.match(s);return f?decodeURIComponent(f[2]):""},js_rand:function(t,r){return Math.floor(Math.random()*(r-t+1)+t)},set_local_data:function(t,r){return t=this.url_encode(t),localStorage.setItem(t,r),localStorage.getItem(t)},get_local_data:function(t){t=this.url_encode(t);let e=localStorage.getItem(t);return e||""},del_local_data:function(t){return t=this.url_encode(t),localStorage.removeItem(t)},clear_local_data:function(){return localStorage.clear()},set_page_data:function(t,r){return t=this.url_encode(t),R(t,r)},get_page_data:function(t){return t=this.url_encode(t),L(t)},del_page_data:function(t){let r=this;return t=r.url_encode(t),r.set_page_data(t,null)},get_time_s:function(){return Math.floor(new Date().getTime()/1e3)},get_time_ms:function(){return new Date().getTime()},get_time_s_date:function(t,r){let e;r?e=new Date(r*1):e=new Date;let c=e.getSeconds();c<10&&(c="0"+c);let s=e.getMinutes();s<10&&(s="0"+s);let f=e.getHours();f<10&&(f="0"+f);let h=e.getDate();h<10&&(h="0"+h);let a=e.getMonth()+1;a<10&&(a="0"+a);let _=e.getFullYear(),l=["week1","week2","week3","week4","week5","week6","week7"][e.getDay()];return t=t.replaceAll("Y",_),t=t.replaceAll("m",a),t=t.replaceAll("d",h),t=t.replaceAll("H",f),t=t.replaceAll("i",s),t=t.replaceAll("s",c),t=t.replaceAll("W",l),t},get_time_ms_format:function(t,r){return r?r=r*1:r=this.get_time_ms(),this.get_time_s_date(t,r)},format_date:function(t,r){r=r+"";let e=r.slice(0,4),c=r.slice(4,6),s=r.slice(6,8),f=r.slice(8,10),h=r.slice(10,12),a=r.slice(12,14),_=t;return _=_.replaceAll("Y",e),_=_.replaceAll("m",c),_=_.replaceAll("d",s),_=_.replaceAll("H",f),_=_.replaceAll("i",h),_=_.replaceAll("s",a),_},is_weixin:function(){return window.navigator.userAgent.toLowerCase().match(/micromessenger/i)==="micromessenger"},is_qq:function(){let t=window.navigator.userAgent.toLowerCase();return t.indexOf("qq")!==-1&&t.indexOf("qqbrowser")===-1},is_dingding:function(){return window.navigator.userAgent.toLowerCase().indexOf("ding talk")!==-1},is_work_weixin:function(){return window.navigator.userAgent.toLowerCase().indexOf("wxwork")!==-1},is_feishu:function(){return window.navigator.userAgent.toLowerCase().indexOf("lark")!==-1},make_uid:function(t){let r=this,e=r.js_rand(1e10,999999999999),c=window.navigator.userAgent.toLowerCase(),s=r.time_date("YmdHisW"),f=window.location.href.toLowerCase();return[r.md5(t+"@"+c+"@"+s+"@"+f+"@"+window.innerWidth+"@"+e),s]},get_theme_model:function(){return window.matchMedia("(prefers-color-scheme: light)").matches?"light":"dark"},md5:function(t){return t?J(t):""},base64_encode:function(t){try{return btoa(t)}catch{return""}},base64_decode:function(t){try{return atob(t)}catch{return""}},url_encode:function(t){return encodeURIComponent(t)},url_decode:function(t){return decodeURIComponent(t)},text_encode:function(t){return this.string_to_unicode(t)},text_decode:function(t){return this.unicode_to_string(t)},string_to_unicode:function(t){let r="";for(let e=0;e<t.length;e++)r?r+=","+t.charCodeAt(e):r=t.charCodeAt(e);return r},unicode_to_string:function(t){const r=t.split(",");let e="";for(let c=0;c<r.length;c++)e+=String.fromCharCode(r[c]);return e},hex16_to_string:function(t){return decodeURIComponent(t)},string_to_hex16:function(t){let r="";for(let e=0;e<t.length;e++)r?r+="&#x"+t.charCodeAt(e).toString(16)+";":r="&#x"+t.charCodeAt(e).toString(16)+";";return r},string_to_json:function(t){let r,e=t;return typeof e=="string"?r=JSON.parse(e):r=e,r},json_to_string:function(t){let r,e=t;return typeof e=="object"?r=JSON.stringify(e):r=e,r},string_star:function(t,r,e){let c=t.length-r-e,s="";for(let f=0;f<c;f++)s+="*";return t.substring(0,r)+s+t.substring(t.length-e)},get_file_ext:function(t){let r=t.split("/");return r.length?r[r.length-1]:""},is_video:function(t){let r=t.substring(t.lastIndexOf("."));return r=r.toLowerCase(),[".mp4",".mkv",".avi",".flv",".mov",".m4v",".rmvb",".rm",".webm",".asf",".wmv"].includes(r)},is_audio:function(t){let r=t.substring(t.lastIndexOf("."));return r=r.toLowerCase(),[".mp3",".wav",".m3u",".m4a",".flac"].includes(r)},is_img:function(t){let r=t.substring(t.lastIndexOf("."));return r=r.toLowerCase(),[".gif",".png",".jpg",".jpeg",".webp",".ico",".jpg2",".tiff",".tif",".bmp",".svg"].includes(r)},is_mobile_screen:function(){let t=window.screen.width,r=window.screen.height,e=1280,c=280,s=40;return t<c||r<c||Math.abs(t-r)<s?-1:t>e||r>e?0:1},is_mobile_pwa:function(){return window.navigator?.standalone||document.referrer.includes("android-app://")},is_pc_pwa:function(){return["fullscreen","standalone","minimal-ui"].some(r=>window.matchMedia("(display-mode: "+r+")").matches)},html_to_plain_text:function(t){function r(c,s={img:" [üèûÔ∏è] ",audio:" [üéµ] ",video:" [üé¨] "}){return c.replace(/<img[^>]*alt="([^"]*)"[^>]*>/gi,(f,h)=>" [üèûÔ∏è "+h+"] "||s.img).replace(/<audio[^>]*title="([^"]*)"[^>]*>.*?<\/audio>/gi,(f,h)=>" [üéµ "+h+"] "||s.audio).replace(/<video[^>]*title="([^"]*)"[^>]*>.*?<\/video>/gi,(f,h)=>" [üé¨ "+h+"] "||s.video)}t=r(t);let e=document.createElement("div");return e.innerHTML=t,e.innerText||e.textContent},js_call_py_or_go:function(t,r){let e=this;const c=function(s,f){async function h(a,_){const l={method:"POST",headers:{"Content-Type":"application/json"},body:typeof _=="string"?_:JSON.stringify(_),mode:"cors",cache:"no-cache",timeout:4};try{const n=await fetch(a,l);if(n.ok){const i=n.headers.get("content-type");let o;return i&&i.includes("application/json")?o=await n.json():i&&i.includes("text/")?o=await n.text():i&&i.includes("form-data")?o=await n.formData():i&&i.includes("blob")?o=await n.blob():o=await n.text(),o}else return{state:0,msg:"ËØ∑Ê±ÇÂ§±Ë¥•1",content:{body_dict:f,"error status":n.status,"error text":n.statusText}}}catch(n){return console.error("Fetch error 1:",n),{state:0,msg:"ËØ∑Ê±ÇÂ§±Ë¥•2",content:{data_dict:f,error:n}}}}return new Promise(a=>{try{h(s+"?cache="+e.get_time_ms(),f).then(_=>{a(_)})}catch(_){console.error("Fetch error 2:",_),a({state:0,msg:"ËØ∑Ê±ÇÂ§±Ë¥•3",content:{body_dict:f,error:_}})}})};return new Promise(s=>{const f=A.app.app_class,h=A.app.app_version;let a="",_="";{try{a=js_call_py_api+"/"+js_call_py_auth}catch{try{a=A.api.js_call_py_url+"api/js_call_py"}catch{console.log("-ÂÄºÊú™Ëé∑Âæó-py-")}}_=e.get_local_data("window_token")}let l={window_token:_,key:t,data_dict:r,app_class:f,app_version:h};try{c(a,l).then(n=>{s(n)})}catch{s({state:0,msg:"JSCallXÊó†Ê≠§ÊñπÊ≥ï",content:{key:t,body_dict:l}})}})},js_watch_window_display:function(){let t=this;document.addEventListener("visibilitychange",()=>{let r="hiding";document.hidden?r="hiding":r="showing";try{t.js_call_py_or_go("window_display",{display:r}).then(e=>{console.log("[ËßÜÁ™óJS-Log]","js_call_py.pyËøîÂõûÂÄºÔºö",e)})}catch{}})}};export{Y as f};
